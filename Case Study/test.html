<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    button{
      height: 35px;
      width: 75px;
      background-color: #48860a;
      font-size: 15px;
      font-weight: bold;
      color: #E6E6E6;
      border-radius: 5px;
      border: none;
    }
    table{
      border-collapse: collapse;

    }

    td{
      padding-top: 10px;
      padding-bottom: 10px;
    }
    tr:nth-child(even){
      background-color: #d9d3d3;
    }
  </style>
</head>
<body>
<p id="ds"></p>
<h2>Các sản phẩm: </h2>

Nhập tên sản phẩm: <input id="name1" type="text">
<button id="update" type="button" onclick="them()">Them</button>
<br><br>
<table>
  <thead>
  <tr>
    <th>STT</th>
    <th>Tên sản phẩm</th>
    <th colspan="2">Hành động</th>
  </tr>
  </thead>
  <tbody id="result">


  </tbody>
</table>
</body>
<script>

  let matHang = [];
  count =0;

  //Ham them san pham
  function add(){
    count++;
    let name = document.getElementById("name1").value;
    let sanpham = {"name": name};
    if (indexHientai === -1){
      addTag(sanpham);
    }else{
      matHang[indexHientai] = sanpham;
      indexHientai = -1;
      document.getElementById("update").innerHTML = "Them";
      displayAll();
    }
  }

  function displayAll(){
    document.getElementById("result").innerHTML='';
    for (let i = 0; i<matHang.length; i++){
      let sanpham = matHang[i];
      document.getElementById("result").innerHTML +=  "<tr>" +
              "<td>"+ (i+1)+"</td>" +
              "<td>"+sanpham.name+"</td>" +
              " <td><button onclick='edit("+i+")'>Sửa</button></td>"  +
              " <td><button onclick='delete1("+i+")'>Xoa</button></td>"   +
              " </tr>"

    }
  }
  function addTag(sanpham){
    matHang.push(sanpham);
    console.log(matHang.length);
    document.getElementById("result").innerHTML +=  "<tr>" +
            "<td>"+ matHang.length+"</td>" +
            "<td>"+sanpham.name+"</td>" +
            " <td><button onclick='edit("+(matHang.length-1)+")'>Sửa</button></td>"  +
            " <td><button onclick='delete1("+(matHang.length-1)+")'>Xoa</button></td>"   +
            " </tr>"
  }
  //Ham sua san pham
  indexHientai = -1;
  function edit(index) {
    indexHientai = index;
    let sanpham = matHang[index];
    document.getElementById("name1").value = sanpham.name;
    document.getElementById("update").innerHTML = "Cap nhat";

  }
  function delete1(index) {
    matHang.splice(index,1);
    hienthi();

  }

  function hienthi(){
    document.getElementById("result").innerHTML=''
    for (let i=0; i<matHang.length; i++){
      document.getElementById("result").innerHTML +=  "<tr>" +
              "<td>"+ (i)+"</td>" +
              "<td>"+matHang[i].name+"</td>" +
              " <td><button onclick='edit("+(matHang.length-1)+")'>Sửa</button></td>"  +
              " <td><button onclick='delete1("+(matHang[i]-1)+")'>Xoa</button></td>"   +
              " </tr>"
    }
  }
</script>

</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>


    // function Post(id, content, user) {
    //     this.id = id;
    //     this.content = content;
    //     this.user = user;
    //     this.liked = 0;
    //     this.comment = [];
    //
    //     this.setLiked = function (like) {
    //         if (like < 0) {
    //             this.like = 0;
    //         } else {
    //             this.liked = like
    //         }
    //     }
    // }
    //
    // function Comment(id, content, userId) {
    //     this.id = id;
    //     this.content = content;
    //     this.userId = userId;
    //     this.comment = [];
    //     this.createdAt = new Date();
    //     this.toString = function (){
    //         return this.id + ":" + this.content
    //     }
    // }
    //
    // function User(id,name) {
    //     this.id = id;
    //     this.name = name;
    //     this.password = "password";
    //     this.like = function (post) {
    //         post.liked++
    //     }
    //
    //     this.comment = function (post, content){
    //         let comment = new Comment(1, content, this.id);
    //         post.comment.push(comment)
    //     }
    // }
    //
    // let user = new User(1,'abc');
    // let user2 = new User(2,'hff');
    //
    // let post = new Post(1, 'AAA', user);
    // let post2 = new Post(2, 'BBB', user);
    // let post3 = new Post(3, 'BBB', user2);
    //
    // user.comment(post, "AAA");
    //
    // console.log(post.user)

    // class Person{
    //     name;
    //     constructor(name) {
    //         this.name=name;
    //     }
    //     greeting(){
    //         alert ('Hi! I\'m ' + this.name + '.');
    //     }
    // }
    //
    // let person1 = new Person('bob');
    // let person2 = new Person('James');
    //
    // person1.greeting();
    // person2.greeting();


        button{
        height: 35px;
        width: 75px;
        background-color: #48860a;
        font-size: 15px;
        font-weight: bold;
        color: #E6E6E6;
        border-radius: 5px;
        border: none;
    }
        table{
        border-collapse: collapse;

    }

        td{
        padding-top: 10px;
        padding-bottom: 10px;
    }
        tr:nth-child(even){
        background-color: #d9d3d3;
    }
    </style>
    </head>
    <body>
    <p id="ds"></p>
    <h2>Các sản phẩm: </h2>

    Nhập tên sản phẩm: <input id="name1" type="text">
        <button id="update" type="button" onclick="them()">Them</button>
        <br><br>
            <table>
                <thead>
                <tr>
                    <th>STT</th>
                    <th>Tên sản phẩm</th>
                    <th colspan="2">Hành động</th>
                </tr>
                </thead>
                <tbody id="result">


                </tbody>
            </table>
    </body>
    <script>

        var matHang = [];
        count =0;

        //Ham them san pham
        function add(){
        count++;
        let name = document.getElementById("name1").value;
        var sanpham = {"name": name};
        if (indexHientai== -1){
        addTag(sanpham);
    }else{
        matHang[indexHientai] = sanpham;
        indexHientai = -1;
        document.getElementById("update").innerHTML = "Them";
        displayAll();
    }
    }

        function displayAll(){
        document.getElementById("result").innerHTML='';
        for (let i = 0; i<matHang.length; i++){
        var sanpham = matHang[i];
        document.getElementById("result").innerHTML +=  "<tr>" +
        "<td>"+ (i+1)+"</td>" +
        "<td>"+sanpham.name+"</td>" +
        " <td><button onclick='edit("+i+")'>Sửa</button></td>"  +
        " <td><button onclick='delete1("+i+")'>Xoa</button></td>"   +
        " </tr>"

    }
    }
        function addTag(sanpham){
        matHang.push(sanpham);
        console.log(matHang.length);
        document.getElementById("result").innerHTML +=  "<tr>" +
        "<td>"+ matHang.length+"</td>" +
        "<td>"+sanpham.name+"</td>" +
        " <td><button onclick='edit("+(matHang.length-1)+")'>Sửa</button></td>"  +
        " <td><button onclick='delete1("+(matHang.length-1)+")'>Xoa</button></td>"   +
        " </tr>"
    }
        //Ham sua san pham
        indexHientai = -1;
        function edit(index) {
        indexHientai = index;
        var sanpham = matHang[index];
        document.getElementById("name1").value = sanpham.name;
        document.getElementById("update").innerHTML = "Cap nhat";

    }
        function delete1(index) {
        matHang.splice(index,1);
        hienthi();

    }

        function hienthi(){
        document.getElementById("result").innerHTML=''
            for (let i=0; i<matHang.length; i++){
        document.getElementById("result").innerHTML +=  "<tr>" +
        "<td>"+ (i)+"</td>" +
        "<td>"+matHang[i].name+"</td>" +
        " <td><button onclick='edit("+(matHang.length-1)+")'>Sửa</button></td>"  +
        " <td><button onclick='delete1("+(matHang[i]-1)+")'>Xoa</button></td>"   +
        " </tr>"
    }
    }
</script>

</html>

